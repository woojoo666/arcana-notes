<!-- This file just contains a playground and tests for debugging jest tests -->

<html>
<head>
	<script src="../node_modules/nearley/lib/nearley.js"></script>
	<script src="../node_modules/moo/moo.js" ></script>
	<script>window.FIREFLY_VERBOSE = true</script>
	<script type="module" defer>
		import { Interpreter, NumberNode, Scope } from '../interpreter.js';
		import { validateCollector, getItems } from './utils.js';

		const interpret = src => new Interpreter(src).interpretTest();
		const expect = val => ({
			toEqual: expected => console.assert(val === expected, 'ERROR'),
			not: { toEqual: expected => console.assert(val !== expected, 'ERROR'), toContain: expected => console.assert(!val.includes(expected), 'ERROR') },
			toContain: expected => console.assert(val.includes(expected), 'ERROR'),
			toHaveLength: expected => console.assert(val.length == expected, 'ERROR'),
		});

		// normal interpreter tests here

		fetch('../starter-pack.owo').then(response => response.text()).then(starterPackSrc => {

			const starterPack = new Interpreter(starterPackSrc).interpretTest();
			const interpret = src => new Interpreter(src).interpretTest(starterPack.scope);
			
			// starter pack tests here
		});
	</script>
	<script type="module" defer>
		import { parse } from '../parser.js';

		// parser test shere
	</script>
</head>
<body>
</body>
</html>
