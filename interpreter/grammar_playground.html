<html>
<head>
	<script src="node_modules/nearley/lib/nearley.js"></script>
	<script src="node_modules/moo/moo.js" ></script>
	<!-- see here(https://stackoverflow.com/a/56070428/1852456) why we use "defer" for the following scripts-->
	<script src="lexerWrapper.js" type="module" defer></script>
	<!--script src="parser.js"></script-->
</head>
<body>
<script type="module" defer>
import grammar from './grammar.js';
import { PreProcessor } from './preprocessor.js';
import { Lexer } from './lexer.js';

let src = `toBoolean:
	isFalsy: 100
ternary:
	switch: 100
`;

let encoded = new PreProcessor(src).encodeIndentation();
console.log(new Lexer(encoded).run().tokens);
</script>
</body>
</html>
